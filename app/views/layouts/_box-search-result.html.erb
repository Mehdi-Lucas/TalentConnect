<div class="container">
  <div class="row">
    <div class="col">
        <%= render partial: 'layouts/searchform-half', locals: {keyword: params[:search_keywords]} %>
        <br>
        <% if @found_talents && @found_talents.count > 0 %>
            <% @found_talents.each do |talent|%>
                <%= render partial: 'layouts/card-talent', locals: {model: talent, type: "search-result"} %>
            <% end %>
        <% else %>
            <% if params[:search_keywords].length == 0 %>
                Saisi au moins 4 caractère dans la recherche.
            <% else %>
                Aucun résultat pour "<%= params[:search_keywords] %>"
                <% if params[:search_keywords].length < 4 %>
                    (4 caractères minimum)
                <% end %>
                .
            <% end %>
        <% end %>
    </div>
    <div class="col" id="map">
    </div>
        <script>
            function initMap(){
                var options = {
                    zoom:11,
                    center:{lat:48.8534,lng:2.3488}
                }
                // New map
                var map = new google.maps.Map(document.getElementById('map'), options);
                // Add marker
              function addMarker(coords){
                var marker = new google.maps.Marker({
                    position:coords,
                    map:map,
                    icon: 'http://localhost:3000/assets/maps-and-flags-b5094032565f8f893184045c01df8eae4620018e1c00b6bf39fae6ac1fb7c2aa.png'
                    
                });
              }

                  <% @found_talents.each do |talent|%>
                  addMarker({lat: <%= talent.place.latitude%> , lng: <%= talent.place.longitude%> })
                  <% end%>
            }
        </script>
        <script defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCROEXaB0Wy3Go4BC2Mv8oAg8uVR4r9PmM&callback=initMap">
        </script>
  </div>
</div>
